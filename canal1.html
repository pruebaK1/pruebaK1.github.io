<!DOCTYPE html>
<html>
<head>
<style>
html, body {
    margin: 0;
    padding: 0;
    width: 100%;
    height: 100%;
    background: black;
}

#iframePlayer {
    border: 0;
    width: 100%;
    height: 100%;
}
</style>
</head>

<body>

<iframe id="iframePlayer"></iframe>

<script>
// Obtener parametro
function getParam(name) {
    return new URLSearchParams(window.location.search).get(name);
}

let encoded = getParam("r");
if (!encoded) {
    document.body.innerHTML = "NO PARAM r=";
    throw "No param";
}

// Base64 URL safe fix
encoded = encoded.replace(/-/g, '+').replace(/_/g, '/');
while (encoded.length % 4) encoded += '=';

// Decode
let url = atob(encoded);
console.log("LOAD:", url);

// Cargar iframe
document.getElementById("iframePlayer").src = url;
</script>

</body>
</html>
